#+TITLE:Language Tests

I test various language functionalities and usage experience. The test would be a pain in the ass in C, which is what I'm trying to beat.

* The test
- Write a command-line tool which takes several optional arguments
- The tool creates and manipulates numeric data based on the arguments, then serializes the data to a file
- The file should include several different fields and a string or something (i.e. not a perfect 4-byte float dump)
- The tool can load from the file and manipulate that data

* The languages
** Zig
- [[https://ziglang.org/][Homepage and overview]]
- [[https://ziglang.org/download/][Download]]
- [[https://ziglang.org/documentation/master/][Documentation]]
- [[https://github.com/ziglang/zig][Repository]]
** Carp
** Steam Bank Common Lisp (SBCL)
* Criteria
** Features

| Language | Has REPL | Has hot-reloading | Introspection | Compile-time code generation |
|----------+----------+-------------------+---------------+------------------------------|
| Zig      |          |                   |               |                              |
| Carp     |          |                   |               |                              |
| SBCL     | Yes      |                   |               |                              |

*** C interoperability
**** Zig
**** Carp
**** SBCL
** Implementation

| Language | My CLOC | Time to implement | Comments |
|----------+---------+-------------------+----------|
|          |         |                   |          |

*** Zig
- Right out of the box, the [[https://ziglang.org/documentation/master/][Hello World documentation]] did not compile. It's a rapidly changing language, so it's not unexpected, but a little annoying. I'm building my documentation from my source now, so I shouldn't have this problem again
- I like that what type of allocator I'm using is very explicit (I'm using [[https://github.com/ziglang/zig/blob/master/doc/docgen.zig][docgen.zig]] as a reference for my test)
- I like the ~defer~ keyword already, though by default it seems there's no errors or warnings if I omit it (and the memory should be freed)

** Maintainability/sustainability

| Language | CLOC   | Repo health          | Comments |
|----------+--------+----------------------+----------|
| Zig      | 1.74M¹ | Very active. Healthy |          |

¹CLOC did not detect Zig as a language. This count does not include LLVM or other dependencies.
